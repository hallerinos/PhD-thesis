\documentclass[tikz]{standalone} % border={left bottom right top}
\input{./Tensors_2.tex}
\input{../definitions.tex}
\usepackage{braket}
\begin{document}

\tikzset{
    %Define standard arrow tip
    >=stealth'
}

\tikzset{
    tst/.style={
      thin, opacity=0.5,
      dashed
    },
    my-arc/.style={
      start angle=0, end angle=360,radius=0.4
    }
  }

\tikzset{
    tst/.style={
      thin, opacity=0.5,
      dashed
    },
    my-arc2/.style={
      start angle=0, end angle=360,radius=0.2
    }
  }

\definecolor{blue}{rgb}{0.2745098039, 0.5333333333, 0.9450980392}
\definecolor{red}{rgb}{0.9176470588, 0.2588235294, 0.2078431373}
\definecolor{yellos}{rgb}{0.9764705882, 0.7333333333, 0.1764705882}
\definecolor{green}{rgb}{0.2039215686, 0.662745098, 0.3176470588}


\begin{tikzpicture}
    \begin{scope}[yshift=-.5cm]
        \node (cc) at (0,0) {};

        \draw ($(cc)+(-1.5,0)$)--++(1,0);
        % \draw ($(cc)+(-1.5,.25)$)--++(1,0);

        \coordinate (1) at ($(cc)+(-2,-.125)$);
        \draw ($(1)+(0.5,.1)$) coordinate (1) -- ++(0,0.25);
        \foreach \y in {1}{
            \draw ($(1)+(0.75,0)$) coordinate (1) -- ++(0,0.25);
        }

        \node at ($(1)+(0.525,0.025)$) {$\dots$};

        \coordinate (1) at ($(1)+(0.75,0)$);
        \coordinate (1) at ($(1)+(0.75,0)$);
        \node at ($(1)+(1.025,.025)$) {$\dots$};
        \coordinate (1) at ($(1)+(0.75,0)$);

        \draw ($(1)+(-1.5,0.025)$)--++(1.5,0);
        \draw ($(1)+(0.5,0.025)$)--++(1,0);

        % \draw ($(1)+(-1.5,0.025)+(0,.25)$)--++(1.5,0);
        % \draw ($(1)+(0.5,0.025)+(0,.25)$)--++(1,0);

        \foreach \y in {1,2}{
            \draw ($(1)+(0.75,0)$) coordinate (1) -- ++(0,0.25);
        }


        \coordinate (tp) at ($(cc)+(-1.5,0)$);
        \begin{scope}[rotate=-90,shift=(tp)]
            \tTens{gray}{0.25}{0.2}{(0,0)}
        \end{scope}

        \coordinate (tp) at ($(cc)+(3,0)$);
        \begin{scope}[rotate=90,shift=(tp)]
            \tTens{gray}{0.25}{0.2}{(0,0)}
        \end{scope}

        \coordinate (tp) at ($(cc)+(2.25,0)$);
        \begin{scope}[rotate=90,shift=(tp)]
            \tTens{gray}{0.25}{0.2}{(0,0)}
        \end{scope}

        \coordinate (tp) at ($(cc)+(-0.75,0)$);
        \begin{scope}[rotate=-90,shift=(tp)]
            \tTens{gray}{0.25}{0.2}{(0,0)}
        \end{scope}

        \draw ($(cc)+(0.25,0)$) coordinate (1) -- ++(0,0.275);
        \coordinate (tp) at ($(cc)+(0.25,0)$);
        \begin{scope}[rotate=-90,shift=(tp)]
            \tTens{red}{0.25}{0.2}{(0,0)}
        \end{scope}

        \coordinate (tp) at ($(cc)+(0.75,0)$);
        \cTens{black}{0.1}{(tp)}
        \coordinate (tp) at ($(cc)+(1.25,0)$);
        \draw ($(tp)+(0.,0)$) coordinate (1) -- ++(0,0.275);
        \begin{scope}[rotate=90,shift=(tp)]
            \tTens{blue}{0.25}{0.2}{(0,0)}
        \end{scope}
    \end{scope}

    \node (cc) at (0,0) {};

    \draw ($(cc)+(-1.5,0)$)--++(1,0);

    \coordinate (1) at ($(cc)+(-2,-.125)$);
    \node[below,yshift=-.175cm] at ($(1)+(.5,1)$) {$1$};
    \draw ($(1)+(0.5,.1)$) coordinate (1) -- ++(0,-0.25);
    \foreach \y in {1}{
        \draw ($(1)+(0.75,0)$) coordinate (1) -- ++(0,-0.25);
    }
    \node[below,yshift=0.725cm] at (1) {$2$};

    \node at ($(1)+(0.525,0.025)$) {$\dots$};

    \coordinate (1) at ($(1)+(0.75,0)$);
    \coordinate (1) at ($(1)+(0.75,0)$);
    \node[below,yshift=-.175cm] at ($(1)+(-.5,.9)$) {${\ell}$};
    \node[below,yshift=-.175cm] at ($(1)+(+.5,.9)$) {${\ell+1}$};
    \node at ($(1)+(1.025,.025)$) {$\dots$};
    \coordinate (1) at ($(1)+(0.75,0)$);

    \draw ($(1)+(-1.5,0.025)$)--++(1.5,0);

    \draw ($(1)+(0.5,0.025)$)--++(1,0);

    \foreach \y in {1,2}{
        \draw ($(1)+(0.75,0)$) coordinate (1) -- ++(0,-0.25);
    }
    \node[below,yshift=.725cm] at ($(1)+(-.75,0)$) {${L-1}$};
    \node[below,yshift=.725cm] at (1) {${L}$};


    \coordinate (tp) at ($(cc)+(-1.5,0)$);
    \begin{scope}[rotate=-90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}

    \coordinate (tp) at ($(cc)+(3,0)$);
    \begin{scope}[rotate=90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}

    \coordinate (tp) at ($(cc)+(2.25,0)$);
    \begin{scope}[rotate=90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}

    \coordinate (tp) at ($(cc)+(-0.75,0)$);
    \begin{scope}[rotate=-90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}

    \draw ($(cc)+(0.25,0)$) coordinate (1) -- ++(0,-0.275);
    \coordinate (tp) at ($(cc)+(0.25,0)$);
    \begin{scope}[rotate=-90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}

    \coordinate (tp) at ($(cc)+(0.75,0)$);
    \cTens{gray}{0.1}{(tp)}
    \coordinate (tp) at ($(cc)+(1.25,0)$);
    \draw ($(tp)+(0.,0)$) coordinate (1) -- ++(0,-0.275);
    \begin{scope}[rotate=90,shift=(tp)]
        \tTens{gray}{0.25}{0.2}{(0,0)}
    \end{scope}
    % \coordinate (tp) at ($(tp)+(0,-.25)$);
    % \begin{scope}[rotate=-90,shift=(tp)]
    %     \rTens{gray}{0.2}{0.2}{(0,0)}
    % \end{scope}
\end{tikzpicture}


\end{document}
